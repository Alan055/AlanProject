webpackJsonp([10],{"6Mqp":function(t,a){},eoxV:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={data:function(){return{loadingStatus:!1,file:null,tableTop:["序号","文件名","注释率","总代码行数","实际JS行数","注释行数","路径"],tableContent:[],sum:{}}},computed:{},watch:{},methods:{handleUpload:function(t){return console.log(123),this.file=t,!1},handleFormatError:function(){console.log("456"),this.$Notice.warning({title:"文件格式不正确"})},upload:function(){this.loadingStatus=!0,console.log(this.file);var t=new FormData;t.append("file",this.file,this.file.name),console.log(t),service.postDefault(this,"/api/upload",t).then(function(t){var a=t.data;200===a.code&&(this.tableContent=a.data.list,this.sum=a.data.sum),this.file=null,this.loadingStatus=!1},function(t){console.log(t)})}},created:function(){},mounted:function(){}},e={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"annotationRate"},[n("h1",[t._v("注释率计算")]),t._v(" "),n("div",{staticClass:"top"},[n("Upload",{staticClass:"upload",attrs:{type:"drag",format:["zip"],action:"/api/upload","before-upload":t.handleUpload,"on-format-error":t.handleFormatError,"max-size":5}},[n("div",{staticStyle:{padding:"8px 4px"}},[n("p",[t._v("点击或拖入此处，上传文件")]),t._v(" "),t.file?n("p",[t._v("文件名为："+t._s(t.file.name))]):t._e()])]),t._v(" "),null!==t.file?n("div",[n("Button",{attrs:{type:"primary",loading:t.loadingStatus},on:{click:t.upload}},[t._v(t._s(t.loadingStatus?"疯狂计算中":"上传并计算")+"\n      ")])],1):t._e()],1),t._v(" "),t.tableContent.length?n("div",{staticClass:"listBox"},[n("div",{staticClass:"listTop"},t._l(t.tableTop,function(a,s){return n("span",{key:s},[t._v(t._s(a))])}),0),t._v(" "),n("div",{staticClass:"listContent"},[t._l(t.tableContent,function(a,s){return n("div",{key:s},[n("span",[t._v(t._s(s+1))]),t._v(" "),n("span",{attrs:{title:a.name}},[t._v(t._s(a.name))]),t._v(" "),n("span",[t._v(t._s(a.rate))]),t._v(" "),n("span",[t._v(t._s(a.codeNum))]),t._v(" "),n("span",[t._v(t._s(a.jsNum))]),t._v(" "),n("span",[t._v(t._s(a.noteNum))]),t._v(" "),n("span",{attrs:{title:a.path}},[t._v(t._s(a.path))])])}),t._v(" "),n("div",[n("span",[t._v("总计")]),t._v(" "),n("span"),t._v(" "),n("span",[t._v(t._s((t.sum.noteNum/t.sum.codeNum*100).toFixed(2))+"%")]),t._v(" "),n("span",[t._v(t._s(t.sum.codeNum))]),t._v(" "),n("span",[t._v(t._s(t.sum.jsNum))]),t._v(" "),n("span",[t._v(t._s(t.sum.noteNum))]),t._v(" "),n("span")])],2)]):t._e()])},staticRenderFns:[]};var o=n("VU/8")(s,e,!1,function(t){n("6Mqp")},"data-v-1aabcbe3",null);a.default=o.exports}});
//# sourceMappingURL=10.290ee7b0062c53d9cd71.js.map