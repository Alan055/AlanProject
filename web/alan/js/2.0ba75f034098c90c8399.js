webpackJsonp([2],{"1kS7":function(t,e){e.f=Object.getOwnPropertySymbols},"4n9X":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),i=n.n(a),o=n("exGp"),s=n.n(o),r=n("Dd8w"),c=n.n(r),u=n("NYxO"),l={data:function(){return{text:"",pagination:{pageNumber:0,pageSize:10,total:0},communityData:[],showMore:!1,timer:null}},computed:c()({},Object(u.d)(["isLogin","userInfo"])),watch:{},methods:{submit:function(){var t=this;return s()(i.a.mark(function e(){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLogin){e.next=2;break}return e.abrupt("return",console.log("没有登录"));case 2:return e.next=4,service.post(t,"/pushMood",{title:t.text});case 4:200===(n=e.sent).code?(t.getComunityData(!1),t.text=""):console.log(n.msg);case 6:case"end":return e.stop()}},e,t)}))()},getComunityData:function(t){var e=this;return s()(i.a.mark(function n(){var a;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,service.post(e,"/community",{startId:e.communityData.length?t?e.communityData[e.communityData.length-1].id:e.communityData[0].id:0,direction:Boolean(t),pageNumber:0,pageSize:e.pagination.pageSize});case 2:200===(a=n.sent).code?!0===t||void 0===t?(e.communityData=e.communityData.concat(a.data.list),e.pagination.total=a.data.total,e.showMore=a.data.total>a.data.list.length):e.communityData=a.data.list.concat(e.communityData):console.log(a.msg);case 4:case"end":return n.stop()}},n,e)}))()},init:function(){var t=this;this.getComunityData(),this.timer=setInterval(function(){t.getComunityData(!1)},1e4)}},created:function(){this.init()},mounted:function(){},destroyed:function(){clearInterval(this.timer),this.timer=null}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"forum"},[n("div",{staticClass:"top"},[n("div",{staticClass:"label"},[t._v("我来写点东西：")]),t._v(" "),n("i-input",{attrs:{type:"textarea",rows:4},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),t._v(" "),n("div",{staticClass:"btn"},[n("i-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("发表")])],1)],1),t._v(" "),n("div",{staticClass:"title"},[t._v("社区空间")]),t._v(" "),n("div",{staticClass:"content"},[t._l(t.communityData,function(e,a){return n("div",{key:a,staticClass:"item"},[n("div",{staticClass:"author"},[t._v("@"+t._s(e.username)+"：")]),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(e.title)),n("em")]),t._v(" "),t._m(0,!0)])}),t._v(" "),t.showMore?n("div",{staticClass:"more"},[n("span",{on:{click:function(e){++t.pagination.pageNumber,t.getComunityData(!0)}}},[t._v("加载更多>>")])]):t._e()],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn"},[e("div",{staticClass:"left"},[e("span",[this._v("评论")])])])}]};var m=n("VU/8")(l,f,!1,function(t){n("HTIk")},"data-v-ae127268",null);e.default=m.exports},Dd8w:function(t,e,n){"use strict";e.__esModule=!0;var a,i=n("woOf"),o=(a=i)&&a.__esModule?a:{default:a};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}},HTIk:function(t,e){},NpIQ:function(t,e){e.f={}.propertyIsEnumerable},R4wc:function(t,e,n){var a=n("kM2E");a(a.S+a.F,"Object",{assign:n("To3L")})},To3L:function(t,e,n){"use strict";var a=n("+E39"),i=n("lktj"),o=n("1kS7"),s=n("NpIQ"),r=n("sB3e"),c=n("MU5D"),u=Object.assign;t.exports=!u||n("S82l")(function(){var t={},e={},n=Symbol(),a="abcdefghijklmnopqrst";return t[n]=7,a.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=a})?function(t,e){for(var n=r(t),u=arguments.length,l=1,f=o.f,m=s.f;u>l;)for(var v,d=c(arguments[l++]),p=f?i(d).concat(f(d)):i(d),g=p.length,_=0;g>_;)v=p[_++],a&&!m.call(d,v)||(n[v]=d[v]);return n}:u},V3tA:function(t,e,n){n("R4wc"),t.exports=n("FeBl").Object.assign},woOf:function(t,e,n){t.exports={default:n("V3tA"),__esModule:!0}}});
//# sourceMappingURL=2.0ba75f034098c90c8399.js.map