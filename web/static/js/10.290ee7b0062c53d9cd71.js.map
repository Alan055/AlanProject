{"version":3,"sources":["webpack:///src/modules/product1/components/tools/annotationRate.vue","webpack:///./src/modules/product1/components/tools/annotationRate.vue?7dae","webpack:///./src/modules/product1/components/tools/annotationRate.vue"],"names":["annotationRate","data","loadingStatus","file","tableTop","tableContent","sum","computed","watch","methods","handleUpload","console","log","this","handleFormatError","$Notice","warning","title","upload","tt","FormData","append","name","service","postDefault","then","result","res","code","list","err","created","mounted","tools_annotationRate","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","type","format","action","before-upload","on-format-error","max-size","staticStyle","padding","_s","_e","loading","on","click","_l","v","i","key","rate","codeNum","jsNum","noteNum","path","toFixed","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.290ee7b0062c53d9cd71.js","sourcesContent":["<template>\n  <div class=\"annotationRate\">\n    <h1>注释率计算</h1>\n    <div class=\"top\">\n      <Upload class=\"upload\" type=\"drag\" :format=\"['zip']\" action=\"/api/upload\"\n              :before-upload=\"handleUpload\" :on-format-error=\"handleFormatError\"\n              :max-size=\"5\">\n        <div style=\"padding: 8px 4px\">\n          <!--<Icon type=\"ios-cloud-upload\" size=\"52\" style=\"color: #3399ff\"></Icon>-->\n          <p>点击或拖入此处，上传文件</p>\n          <!--<Button icon=\"ios-cloud-upload-outline\" v-if=\"!file\"></Button>-->\n          <p v-if=\"file\">文件名为：{{ file.name }}</p>\n        </div>\n      </Upload>\n\n      <div v-if=\"file !== null\">\n        <Button type=\"primary\" @click=\"upload\" :loading=\"loadingStatus\">{{ loadingStatus ? '疯狂计算中' : '上传并计算' }}\n        </Button>\n      </div>\n    </div>\n\n    <div class=\"listBox\" v-if=\"tableContent.length\">\n      <div class=\"listTop\"><span v-for=\"(v,i) in tableTop\" :key=\"i\">{{v}}</span></div>\n      <div class=\"listContent\">\n        <div v-for=\"(v,i) in tableContent\" :key=\"i\">\n          <span>{{i+1}}</span>\n          <span :title=\"v.name\">{{v.name}}</span>\n          <span>{{v.rate}}</span>\n          <span>{{v.codeNum}}</span>\n          <span>{{v.jsNum}}</span>\n          <span>{{v.noteNum}}</span>\n          <span :title=\"v.path\">{{v.path}}</span>\n        </div>\n        <div>\n          <span>总计</span>\n          <span></span>\n          <span>{{(sum.noteNum/sum.codeNum*100).toFixed(2)}}%</span>\n          <span>{{sum.codeNum}}</span>\n          <span>{{sum.jsNum}}</span>\n          <span>{{sum.noteNum}}</span>\n          <span></span>\n        </div>\n      </div>\n\n    </div>\n\n\n  </div>\n</template>\n\n<script>\n  // \tconsole[val.rate>=20 ? 'info' : 'warn'](`文件${val.name}：总JS有${val.codeNum}行、实际js有${val.jsNum}行、注释有${val.noteNum}行、注释率为${val.rate + '%'}、路径是${val.path}`)\n\n  export default {\n    data() {\n      return {\n        loadingStatus: false, // 上传中\n        file: null, // 上传的文件数据\n        tableTop: ['序号','文件名','注释率','总代码行数','实际JS行数','注释行数','路径'],\n        tableContent: [],\n        sum: {}\n      }\n    },\n    computed: {},\n    watch: {},\n    methods: {\n      handleUpload(file) {\n        console.log(123)\n        this.file = file;\n        return false;\n      },\n      handleFormatError() {\n        console.log(\"456\")\n        this.$Notice.warning({\n          title: '文件格式不正确',\n          // desc: 'File format of ' + file.name + ' is incorrect, please select jpg or png.'\n        });\n      },\n      upload() {\n        this.loadingStatus = true; // 状态改成上传中\n        console.log(this.file)\n        let tt = new FormData()\n        tt.append('file', this.file, this.file.name)\n        console.log(tt)\n        service.postDefault(this, '/api/upload', tt, ).then(function (result) {\n          let res = result.data\n          if (res.code === 200){\n            this.tableContent = res.data.list\n            this.sum = res.data.sum\n          }\n          this.file = null;\n          this.loadingStatus = false;\n        }, function (err) {\n          console.log(err)\n        })\n\n      }\n    },\n    created() {\n    },\n    mounted() {\n    },\n  }\n</script>\n\n<style lang='less' scoped>\n  .annotationRate {\n    width: 100%;\n    height: 100%;\n    margin: 0 auto;\n    display: flex;\n    flex-direction: column;\n    align-items: left;\n    >h1{\n      height: 42px;\n    }\n    .top {\n      display: flex;\n      justify-content: left;\n      align-items: center;\n      height: 64px;\n      .upload {\n        display: flex;\n        width: 200px;\n        margin-right: 50px;\n      }\n    }\n    .listBox{\n      width: 100%;\n      overflow: auto;\n      flex-grow: 1;\n      .listTop{\n        background: @themeColor;\n        color: #fff;\n        height: 36px;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        span{\n          border-right: 1px solid #ccc;\n          height: 100%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          &:last-child{\n            border: none;\n          }\n        }\n      }\n      .listContent{\n        height: ~\"calc(100% - 36px)\";\n        .al_scorll();\n        overflow: auto;\n        >div{\n          height: 36px;\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          flex-wrap: nowrap;\n          overflow: hidden;\n          span:nth-child(2){text-align: left}\n          span:nth-child(7){text-align: left}\n        }\n      }\n      .listTop, .listContent{\n        span:nth-child(1){width: 58px}\n        span:nth-child(2){width: 150px}\n        span:nth-child(3){width: 100px}\n        span:nth-child(4){width: 100px}\n        span:nth-child(5){width: 100px}\n        span:nth-child(6){width: 100px}\n        span:nth-child(7){width: 390px}\n        span {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          padding: 0 5px;\n        }\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/modules/product1/components/tools/annotationRate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"annotationRate\"},[_c('h1',[_vm._v(\"注释率计算\")]),_vm._v(\" \"),_c('div',{staticClass:\"top\"},[_c('Upload',{staticClass:\"upload\",attrs:{\"type\":\"drag\",\"format\":['zip'],\"action\":\"/api/upload\",\"before-upload\":_vm.handleUpload,\"on-format-error\":_vm.handleFormatError,\"max-size\":5}},[_c('div',{staticStyle:{\"padding\":\"8px 4px\"}},[_c('p',[_vm._v(\"点击或拖入此处，上传文件\")]),_vm._v(\" \"),(_vm.file)?_c('p',[_vm._v(\"文件名为：\"+_vm._s(_vm.file.name))]):_vm._e()])]),_vm._v(\" \"),(_vm.file !== null)?_c('div',[_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loadingStatus},on:{\"click\":_vm.upload}},[_vm._v(_vm._s(_vm.loadingStatus ? '疯狂计算中' : '上传并计算')+\"\\n      \")])],1):_vm._e()],1),_vm._v(\" \"),(_vm.tableContent.length)?_c('div',{staticClass:\"listBox\"},[_c('div',{staticClass:\"listTop\"},_vm._l((_vm.tableTop),function(v,i){return _c('span',{key:i},[_vm._v(_vm._s(v))])}),0),_vm._v(\" \"),_c('div',{staticClass:\"listContent\"},[_vm._l((_vm.tableContent),function(v,i){return _c('div',{key:i},[_c('span',[_vm._v(_vm._s(i+1))]),_vm._v(\" \"),_c('span',{attrs:{\"title\":v.name}},[_vm._v(_vm._s(v.name))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(v.rate))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(v.codeNum))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(v.jsNum))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(v.noteNum))]),_vm._v(\" \"),_c('span',{attrs:{\"title\":v.path}},[_vm._v(_vm._s(v.path))])])}),_vm._v(\" \"),_c('div',[_c('span',[_vm._v(\"总计\")]),_vm._v(\" \"),_c('span'),_vm._v(\" \"),_c('span',[_vm._v(_vm._s((_vm.sum.noteNum/_vm.sum.codeNum*100).toFixed(2))+\"%\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.sum.codeNum))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.sum.jsNum))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.sum.noteNum))]),_vm._v(\" \"),_c('span')])],2)]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1aabcbe3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/product1/components/tools/annotationRate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1aabcbe3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/alan/Desktop/Project-My/webpack-study/src/modules/product1/assets/less/global.less\\\"]}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./annotationRate.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./annotationRate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./annotationRate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1aabcbe3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./annotationRate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1aabcbe3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/product1/components/tools/annotationRate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}